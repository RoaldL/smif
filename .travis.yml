sudo: false
language: python
virtualenv:
  system_site_packages: true
env:
  matrix:
  - DISTRIB="conda" PYTHON_VERSION="3.5" COVERAGE="true"
install:
- source tests/travis_install.sh
- pip install git+https://github.com/behave/behave
- pip install -r test-requirements.txt
before_script:
- git config --global user.email "william.usher@ouce.ox.ac.uk"
- git config --global user.name "Will Usher"
script:
- python setup.py develop
- python setup.py test
- python setup.py behave_test
after_success:
- if [[ "$COVERAGE" == "true" ]]; then coveralls || echo "failed"; fi
cache:
- apt
notifications:
  email: false
addons:
  apt:
    packages:
    - glpk
deploy:
  provider: pypi
  user: willu47
  password:
    secure: tBYVsKa9kAbGY+KDbPHQzDnskj9shkjtKas8S0MPdtZ5la84FpHYrzQ7pc94N7HY4i3RrShUE0nNaw554LgLLlW0axsP1P147lOxXVLVwXcdyR0EcFwl64FSq0qx+PQ3JRvg7ucCZyY7+COtBLNp7u4BmGEXX0GzGpqOeZz3eNps0eYU5T2ickccJjMLJiEvYm08NcxZYj4dc/6qu66m7DtZDK+MPuPfiLjTnaKIiKvWTXe4nqNhvfUql0Z5mV6sNM4QGpmrwKsbSfgCASvN+jG7FFI5NSdXy0yQFqjrTwsRY6KbttXajOYHem1HpEF3fnnDOFgnFV3y2DY20sVHeKrv3KdtIuqxRBrHs/JK8v0GCSZ3nflK+3YL7TVeNvzsP8lfOZBeaVR0SOvgryeJ+PsczHqaJqgalqzDPOWuy6WiNRmYsaAbwWdfYzx+RM2I9dO4+ZxeG7tw52eLCL1flcT58vmgWyNeP+psHP4T0uGcnAI0m0JWg9LRIfDm5UL3dOznbHtL8ZM7gUIln40bEEh3iwSzlmzmFnN4V/c34ahy6xH9qN49iW+zwXWoI+P/SB9S7I/xgGlSgTQcvnCZdrKLyj9FHKm+/tggoM62MyElwKkey0fFnyQjujp0jabatuoWYEC7pRaJI+qO8xhWWxr6uw6SbCQ2PamjRDlgpDQ=
  on:
    tags: true
    distributions: sdist bdist_wheel
  skip_upload_docs: true
